[pytest]
# pytest 配置文件
# 注意：此配置用于所有测试（包括 builtin_routines）
# 运行所有测试: pytest
# 运行核心测试: pytest tests/
# 运行 builtin 测试: pytest routilux/builtin_routines/

# 测试文件模式
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# 测试路径（默认只运行核心测试）
# 运行所有测试: pytest tests/ routilux/builtin_routines/
# 或使用 Makefile: make test-all
# 运行核心测试: pytest tests/ 或 make test
# 运行 builtin 测试: pytest routilux/builtin_routines/ 或 make test-builtin
testpaths = tests

# 排除目录
norecursedirs = 
    .git
    __pycache__
    *.egg

# 输出选项
addopts = 
    -v
    --strict-markers
    --tb=short
    --cov=routilux
    --cov-report=term-missing
    --cov-report=html

# 标记
markers =
    unit: 单元测试
    integration: 集成测试
    slow: 慢速测试
    persistence: 持久化测试
    resume: 恢复功能测试

